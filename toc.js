// https://github.com/ghiculescu/jekyll-table-of-contents
(function(a){a.fn.toc=function(o){var h={noBackToTopLinks:false,title:"<i>Jump to...</i>",minimumHeaders:3,headers:"h1, h2, h3, h4, h5, h6",listType:"ol",showEffect:"show",showSpeed:"slow",classes:{list:"",item:""}},g=a.extend(h,o);function j(p){return encodeURIComponent(p).replace(/[!'()*]/g,function(q){return"%"+q.charCodeAt(0).toString(16)})}function i(q){var p=(q.textContent===undefined)?q.innerText:q.textContent;return"<a href='#"+j(q.id)+"'>"+p+"</a>"}var d=a(g.headers).filter(function(){var p=a(this).prev().attr("name");if(!this.id&&p){this.id=a(this).attr("id",p.replace(/\./g,"-"))}return this.id}),e=a(this);if(!d.length||d.length<g.minimumHeaders||!e.length){a(this).hide();return}if(0===g.showSpeed){g.showEffect="none"}var c={show:function(){e.hide().html(k).show(g.showSpeed)},slideDown:function(){e.hide().html(k).slideDown(g.showSpeed)},fadeIn:function(){e.hide().html(k).fadeIn(g.showSpeed)},none:function(){e.html(k)}};var m=function(p){return parseInt(p.nodeName.replace("H",""),10)};var n=d.map(function(p,q){return m(q)}).get().sort()[0];var l='<i class="icon-arrow-up back-to-top"> </i>';var b=m(d[0]),f,k=g.title+" <"+g.listType+' class="'+g.classes.list+'">';d.on("click",function(){if(!g.noBackToTopLinks){window.location.hash=this.id}}).addClass("clickable-header").each(function(p,r){f=m(r);if(!g.noBackToTopLinks&&f===n){a(r).addClass("top-level-header").after(l)}if(f===b){k+='<li class="'+g.classes.item+'">'+i(r)}else{if(f<=b){for(var q=f;q<b;q++){k+="</li></"+g.listType+">"}k+='<li class="'+g.classes.item+'">'+i(r)}else{if(f>b){for(q=f;q>b;q--){k+="<"+g.listType+' class="'+g.classes.list+'"><li class="'+g.classes.item+'">'}k+=i(r)}}}b=f});k+="</"+g.listType+">";if(!g.noBackToTopLinks){a(document).on("click",".back-to-top",function(){a(window).scrollTop(0);window.location.hash=""})}c[g.showEffect]()}})(jQuery);
